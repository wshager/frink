{"version":3,"sources":["../../src/seq/op.js"],"names":["empty","s","exists","not","head","$a","tail","insertBefore","$s","pos","$ins","remove","i","skip","reverse","a","subsequence","l","d"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;AAEO,MAAMA,QAAQC,KAAK,gBAAMA,CAAN,IAAW,0BAAUA,CAAV,CAAX,GAA0B,kBAAOA,CAAP,CAA7C;;;;AAEA,MAAMC,SAASD,KAAK,gBAAMA,CAAN,IAAW,gBAAK,yBAAL,EAAe,oBAAIE,SAAJ,CAAf,EAAyBF,CAAzB,CAAX,GAAyC,CAAC,kBAAOA,CAAP,CAA9D;;;;AAEA,SAASG,IAAT,CAAcC,EAAd,EAAiB;AACvB,SAAO,kBAAOA,EAAP,KAAc,CAAC,gBAAMA,EAAN,CAAf,GAA2BA,EAA3B,GAAgC,qBAAK,CAAL,EAAQA,EAAR,CAAvC;AACA;;AAEM,SAASC,IAAT,CAAcD,EAAd,EAAiB;AACvB,SAAO,kBAAOA,EAAP,KAAc,CAAC,gBAAMA,EAAN,CAAf,GAA2B,IAA3B,GAAkC,qBAAK,CAAL,EAAQA,EAAR,CAAzC;AACA;;AAEM,SAASE,YAAT,CAAsBC,EAAtB,EAAyBC,GAAzB,EAA6BC,IAA7B,EAAmC;AACzC,SAAO,gBAAK,qBAAKD,MAAM,CAAX,CAAL,EAAmB,sBAAM,cAAIC,IAAJ,CAAN,EAAgB,qBAAKD,GAAL,CAAhB,CAAnB,EAA+C,cAAID,EAAJ,CAA/C,CAAP;AACA;;AAEM,SAASG,MAAT,CAAgBN,EAAhB,EAAmBO,CAAnB,EAAqB;AAC3B,MAAG,mBAAQA,CAAR,CAAH,EAAe,OAAO,oBAAM,UAAN,CAAP;AACfP,OAAK,cAAIA,EAAJ,CAAL;AACA,SAAO,sBAAM,qBAAKO,IAAI,CAAJ,GAAQ,CAAR,GAAYA,IAAI,CAArB,EAAwBP,EAAxB,CAAN,EAAkCA,GAAGQ,IAAH,CAAQD,CAAR,CAAlC,CAAP;AACA;;AAEM,SAASE,OAAT,CAAiBT,EAAjB,EAAqB;AAC3B,SAAO,CAAC,gBAAMA,EAAN,CAAD,GAAaA,EAAb,GAAkB,gBAAK,yBAAL,EAAe,yBAASU,KAAKA,EAAED,OAAF,EAAd,CAAf,EAA2CT,EAA3C,CAAzB;AACA;;AAEM,SAASW,WAAT,CAAqBX,EAArB,EAAwBO,CAAxB,EAA0BK,IAAE,CAA5B,EAA8B;AACpC,MAAG,mBAAQL,CAAR,CAAH,EAAe,OAAO,oBAAM,UAAN,CAAP;AACfP,OAAK,cAAIA,EAAJ,CAAL;AACAO,MAAIA,IAAI,CAAR;AACA,MAAIM,IAAIN,IAAI,CAAJ,GAAQA,CAAR,GAAY,CAApB;AACA,SAAOK,MAAM,CAAN,GAAU,qBAAKL,CAAL,EAAQP,EAAR,CAAV,GAAwB,gBAAK,qBAAKO,CAAL,CAAL,EAAa,qBAAKK,IAAIC,CAAT,CAAb,EAA0Bb,EAA1B,CAA/B;AACA","sourcesContent":["import { seq, isSeq } from \"../seq\";\r\n\r\nimport { isNull, isUndef } from \"../util\";\r\n\r\nimport { pipe } from \"rxjs\";\r\n\r\nimport { isEmpty, map, take, skip, merge, mergeMap, toArray } from \"rxjs/operators\";\r\n\r\nimport { not } from \"../impl\";\r\n\r\nimport error from \"../error\";\r\n\r\nexport const empty = s => isSeq(s) ? isEmpty()(s) : isNull(s);\r\n\r\nexport const exists = s => isSeq(s) ? pipe(isEmpty(),map(not))(s) : !isNull(s);\r\n\r\nexport function head($a){\r\n\treturn isNull($a) || !isSeq($a) ? $a : take(1)($a);\r\n}\r\n\r\nexport function tail($a){\r\n\treturn isNull($a) || !isSeq($a) ? null : skip(1)($a);\r\n}\r\n\r\nexport function insertBefore($s,pos,$ins) {\r\n\treturn pipe(take(pos - 1),merge(seq($ins),skip(pos)))(seq($s));\r\n}\r\n\r\nexport function remove($a,i){\r\n\tif(isUndef(i)) return error(\"XPST0017\");\r\n\t$a = seq($a);\r\n\treturn merge(take(i < 1 ? 0 : i - 1)($a),$a.skip(i));\r\n}\r\n\r\nexport function reverse($a) {\r\n\treturn !isSeq($a) ? $a : pipe(toArray(),mergeMap(a => a.reverse()))($a);\r\n}\r\n\r\nexport function subsequence($a,i,l=0){\r\n\tif(isUndef(i)) return error(\"XPST0017\");\r\n\t$a = seq($a);\r\n\ti = i - 1;\r\n\tvar d = i < 0 ? i : 0;\r\n\treturn l === 0 ? skip(i)($a) : pipe(skip(i),take(l - d))($a);\r\n}\r\n"],"file":"op.js"}
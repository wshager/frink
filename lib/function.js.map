{"version":3,"sources":["../src/function.js"],"names":["modules","loadModule","moduleUri","require","functionLookup","qname","arity","uri","toString","name","split","pop","fn","apply","a","toJS"],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEA,MAAMA,OAAO,GAAG;AACf,4CAAyC;AAD1B,CAAhB;;AAIO,SAASC,UAAT,CAAoBC,SAApB,EAA+B;AACrC;AACA;AACA;AACA,SAAO,cAAIC,OAAO,CAACH,OAAO,CAACE,SAAD,CAAR,CAAX,CAAP;AACA;;AAEM,SAASE,cAAT,CAAwBC,KAAxB,EAA8BC,KAA9B,EAAoC;AAC1C,MAAIC,GAAG,GAAGF,KAAK,CAACE,GAAN,CAAUC,QAAV,EAAV;AACA,MAAIC,IAAI,GAAG,qBAAUJ,KAAK,CAACI,IAAN,CAAWD,QAAX,GAAsBE,KAAtB,CAA4B,GAA5B,EAAiCC,GAAjC,EAAV,CAAX;AACA,MAAIC,EAAE,GAAGZ,OAAO,CAACO,GAAD,CAAP,CAAaE,IAAI,GAAC,GAAL,GAASH,KAAtB,CAAT;AACA,MAAG,CAACM,EAAJ,EAAQA,EAAE,GAAGZ,OAAO,CAACO,GAAD,CAAP,CAAaE,IAAI,GAAC,GAAlB,CAAL;AACR,SAAOG,EAAE,GAAGA,EAAH,GAAQ,IAAjB;AACA;;AAEM,SAASC,KAAT,CAAeD,EAAf,EAAkBE,CAAlB,EAAqB;AAC3B,SAAOF,EAAE,CAACC,KAAH,CAAS,IAAT,EAAcC,CAAC,CAACC,IAAF,GAASD,CAAC,CAACC,IAAF,EAAT,GAAoBD,CAAlC,CAAP;AACA","sourcesContent":["import { camelCase } from \"./util\";\n\nimport { map } from \"./map\";\n\nconst modules = {\n\t\"http://www.w3.org/2005/xpath-functions\":\"./function\"\n};\n\nexport function loadModule(moduleUri) {\n\t// conflict?\n\t//if (module.uri in modules) return;\n\t// let js manager handle logic\n\treturn map(require(modules[moduleUri]));\n}\n\nexport function functionLookup(qname,arity){\n\tvar uri = qname.uri.toString();\n\tvar name = camelCase(qname.name.toString().split(/:/).pop());\n\tvar fn = modules[uri][name+\"$\"+arity];\n\tif(!fn) fn = modules[uri][name+\"$\"];\n\treturn fn ? fn : null;\n}\n\nexport function apply(fn,a) {\n\treturn fn.apply(this,a.toJS ? a.toJS() : a);\n}\n"],"file":"function.js"}